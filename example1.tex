\documentclass[12pt]{article}
\usepackage[dvipsnames]{xcolor}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[color,matrix,frame,arrow,curve]{xy}
\begin{document}

\begin{figure}[h!]\centering
$$\xymatrix{
&*+[F*:Lavender]{\underline{B}^{3}}\ar[dr]\ar[rr]&&*+[F*:yellow]{\underline{D}^{4}}
\\
*+[F*:yellow]{\underline{A}^{3\times  4}}\ar[ur]\ar[rr]\ar[urrr]&&*+[F*:cyan]{\underline{C}^{4}}&
}$$
\caption{Silly bnet}
\label{fig-silly}
\end{figure}

\begin{subequations}
\begin{equation}
A^{3\times  4} = {\rm fun\_a}({\rm axis=1})
\label{eq-A-fun-silly-bnet}
\end{equation}

\begin{equation}
B^{3} = {\rm fun\_b}(A^{3\times  4})
\label{eq-B-fun-silly-bnet}
\end{equation}

\begin{equation}
C^{4} = B^{3}A^{3\times  4}+b^4
\label{eq-C-fun-silly-bnet}
\end{equation}

\begin{equation}
D^{4} = {\rm cos}(A^{3\times  4},B^{3},{\rm axis=1})
\label{eq-D-fun-silly-bnet}
\end{equation}

\end{subequations}

\end{document}
