\documentclass[12pt]{article}
\usepackage[dvipsnames]{xcolor}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage[color,matrix,frame,arrow,curve]{xy}
\begin{document}


\begin{figure}[h!]\centering
$$\xymatrix{
&*+[F*:Lavender]{\underline{B}^{[3]}}\ar[dr]\ar[rr]&&*+[F*:yellow]{\underline{D}^{[4]}}
\\
*+[F*:yellow]{\underline{A}^{[3], [4]}}\ar[ur]\ar[rr]\ar[urrr]&&*+[F*:cyan]{\underline{C}^{[4]}}&
}$$
\caption{Silly bnet}
\label{fig-texnn-for-silly-bnet}
\end{figure}

\begin{subequations}

\begin{equation}\color{blue}
A^{[3], [4]} = \text{fun\_a}(axis=1)
\label{eq-A-fun-silly-bnet}
\end{equation}

\begin{equation}\color{blue}
B^{[3]} = \text{fun\_b}(A^{[3], [4]})
\label{eq-B-fun-silly-bnet}
\end{equation}

\begin{equation}\color{blue}
C^{[4]} = B^{[3]}A^{[3], [4]}+b^4
\label{eq-C-fun-silly-bnet}
\end{equation}

\begin{equation}\color{blue}
D^{[4]} = \text{cos}(A^{[3], [4]},B^{[3]};axis=1)
\label{eq-D-fun-silly-bnet}
\end{equation}

\end{subequations}\begin{figure}[h!]\centering
$$\xymatrix{
*+[F*:yellow]{\underline{D}^{[4]}}&
\\
&*+[F*:cyan]{\underline{C}^{[4]}}
\\
*+[F*:Lavender]{\underline{B}^{[3]}}\ar[ur]\ar[uu]&
\\
&*+[F*:yellow]{\underline{A}^{[3], [4]}}\ar[ul]\ar[uu]\ar[uuul]
}$$
\caption{rotated silly bnet}
\label{fig-texnn-for-rotated-silly-bnet}
\end{figure}


\end{document}  
